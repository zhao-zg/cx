# 样式管理说明

## 样式架构

为了保持所有内容页面的一致性，我们采用以下样式管理策略：

### 1. 基础样式（base.html）

所有通用样式都定义在 `src/templates/base.html` 中，包括：

#### 文本样式
- `.content-text` - 通用内容段落（margin: 16px 0, padding-left: 16px, text-indent: 2em, line-height: 2.1）
- `body` - 基础字体大小 18px

#### 章节标题样式
- `.section-level1` - 一级标题
- `.section-level2` - 二级标题  
- `.section-level3` - 三级标题
- `.section-level4` - 四级标题

#### 经文样式
- `.scripture` - 经文引用
- `.scripture-verses` - 经文内容

#### 控制组件
- `.toggle-btn` - 折叠/展开按钮
- `.bottom-control-bar` - 底部控制栏
- `.control-btn` - 控制按钮

### 2. 页面特定样式

每个内容页面只应包含该页面特有的布局样式，不应重复定义文本样式。

#### 统一的文本段落类名

所有内容页面的文本段落应使用统一的类名，并继承 base.html 的样式：

- **听抄页面** (`message.html`): `.message-text` → 使用 base.html 的 `.content-text` 样式
- **晨兴页面** (`morning_revival.html`): `.content-paragraph` → 使用 base.html 的 `.content-text` 样式
- **纲目页面** (`outline.html`): 使用 base.html 的 section 样式
- **职事页面** (`ministry.html`): `.ministry-paragraph` → 应统一为 `.content-text`
- **诗歌页面** (`hymn.html`): 主要是图片展示，文本较少
- **大纲页面** (`summary.html`): 使用 base.html 的 section 样式

### 3. 样式修改流程

当需要修改文本样式时：

1. **全局修改**：修改 `base.html` 中的 `.content-text` 样式
2. **页面特定修改**：只在对应页面的 `<style>` 块中添加该页面特有的样式

### 4. 底部控制栏样式（单一来源）

**重要**：底部控制栏的所有样式都定义在 `base.html` 中，包括：

- `.bottom-control-bar` - 控制栏容器
- `.control-btn` - 控制按钮（目录、播放等）
- `.progress-section` - 进度条区域
- `.progress-bar` - 进度条
- `.speech-time` - 时间显示
- `.control-select` - 语速选择器
- `.font-btn` - 字体调整按钮

**已删除的文件**：
- ~~`speech_component.html`~~ - 已删除，避免样式重复定义

所有控制栏样式的修改都应该在 `base.html` 中进行，这样可以确保：
- 所有页面的控制栏样式一致
- 只需修改一处即可全局生效
- 避免样式冲突和重复代码

### 5. 当前需要统一的样式

以下样式应该在所有页面保持一致：

```css
/* 通用内容文本 - 定义在 base.html */
.content-text {
    margin: 16px 0;
    padding-left: 16px;
    text-indent: 2em;
    color: #4a5568;
    line-height: 2.1;
}
```

### 6. 各页面应使用的类名映射

| 页面 | 当前类名 | 应使用的类名 | 状态 |
|------|---------|-------------|------|
| message.html | `.message-text` | `.content-text` | ✅ 已统一样式 |
| morning_revival.html | `.content-paragraph` | `.content-text` | ✅ 已统一样式 |
| ministry.html | `.ministry-paragraph` | `.content-text` | ⏳ 待统一 |
| outline.html | section 样式 | section 样式 | ✅ 使用 base.html |
| hymn.html | - | - | ✅ 无需统一 |
| summary.html | section 样式 | section 样式 | ✅ 使用 base.html |

### 7. 建议的重构步骤

1. ✅ 在 base.html 中定义 `.content-text` 通用样式
2. ✅ 统一 message.html 和 morning_revival.html 的文本样式
3. ⏳ 统一 ministry.html 的 `.ministry-paragraph` 样式
4. ⏳ 移除各页面中重复的样式定义
5. ⏳ 确保所有页面的行高、间距、字体大小一致

### 8. 注意事项

- 不要在各个页面的 `<style>` 块中定义 `font-size`，应继承 body 的 18px
- 使用 `em` 单位时要注意继承关系
- 移动端样式应统一在 base.html 的媒体查询中定义
- 页面特定的布局样式（如 `.day-navigation`）可以保留在各自页面中

## 快速检查清单

修改样式时，请检查：

- [ ] 是否所有内容页面的文本行高一致？
- [ ] 是否所有内容页面的段落间距一致？
- [ ] 是否所有内容页面的文本缩进一致？
- [ ] 是否移除了重复的样式定义？
- [ ] 移动端样式是否也保持一致？
